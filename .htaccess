# DO NOT REMOVE THIS LINE AND THE LINES BELOW SSL_REDIRECT:terex-plus.ru
RewriteEngine on

#убираем ?
  RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /\?\d*\ HTTP/
  # и делаем редирект на корень сайта с удалением GET переменных (знак вопроса ОБЯЗАТЕЛЕН)
  RewriteRule ^ http://terex-plus.ru/? [R=301,L]
  
RewriteCond %{HTTPS} off
RewriteCond %{HTTP_HOST} ^terex-plus.ru$
RewriteRule (.*) https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
# DO NOT REMOVE THIS LINE AND THE LINES ABOVE SSL_REDIRECT:terex-plus.ru
RewriteCond %{HTTP_HOST} ^www\.(.*)$
RewriteRule ^(.*)$ https://%1/$1 [L,R=301]

#Правило обрабатывает внутренние страницы
  # http://site.ru/catalog////item///
  RewriteCond %{REQUEST_URI} ^(.*)/{2,}(.*)$
  #Проверяем, повторяется ли слеш (//) более двух раз.
  RewriteRule . %1/%2 [R=301,L]
  #Исключаем все лишние слеши.

  #удаляем слеши для главной http://site.ru/////
  RewriteCond %{THE_REQUEST} ([^\s]*)\/{2,}(\?[^\s]*)?
  RewriteRule (.*) / [R=301,L]
  
  #убираем index.html
  RewriteRule ^index\.html$ / [R=301,L]

  <IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html
  AddOutputFilterByType DEFLATE text/css
  AddOutputFilterByType DEFLATE text/javascript
  AddOutputFilterByType DEFLATE text/xml
  AddOutputFilterByType DEFLATE text/plain
  AddOutputFilterByType DEFLATE image/x-icon
  AddOutputFilterByType DEFLATE image/svg+xml
  AddOutputFilterByType DEFLATE application/rss+xml
  AddOutputFilterByType DEFLATE application/javascript
  AddOutputFilterByType DEFLATE application/x-javascript
  AddOutputFilterByType DEFLATE application/xml
  AddOutputFilterByType DEFLATE application/xhtml+xml 
  AddOutputFilterByType DEFLATE application/x-font  
  AddOutputFilterByType DEFLATE application/x-font-truetype  
  AddOutputFilterByType DEFLATE application/x-font-ttf  
  AddOutputFilterByType DEFLATE application/x-font-otf 
  AddOutputFilterByType DEFLATE application/x-font-opentype 
  AddOutputFilterByType DEFLATE application/vnd.ms-fontobject
  AddOutputFilterByType DEFLATE font/ttf 
  AddOutputFilterByType DEFLATE font/otf 
  AddOutputFilterByType DEFLATE font/opentype
# For Older Browsers Which Can't Handle Compression
  BrowserMatch ^Mozilla/4 gzip-only-text/html 
  BrowserMatch ^Mozilla/4\.0[678] no-gzip
  BrowserMatch \bMSIE !no-gzip !gzip-only-text/html
</IfModule>
  




  
  










