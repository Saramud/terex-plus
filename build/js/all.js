"use strict";var v,i,e,t,n,a,b,y,x;$("#sendMail").on("click",function(){var e=$("#name").val(),t=$("#technics").val(),a=$("#rent").val(),i=$("#phone").val().replace(/[(),_,-]/g,"");return 0==i.length?($("#error").text("Поле обязательно для заполнения!"),$("#phone").css("border","2px solid red"),!1):12!==i.length?($("#error").text("Некорректно введен номер телефона"),$("#phone").css("border","2px solid red"),!1):($("#error").text(""),void $.ajax({url:"/telegram.php",type:"POST",cache:!1,data:{name:e,technics:t,rent:a,phone:i},dataType:"html",beforeSend:function(){$("#sendMail").text("Заявка отправлена"),$("#sendMail").css({background:"#28a745","border-color":"#28a745",color:"white"}),$("#sendMail").prop("disabled",!0)},success:function(){$("#requestform").trigger("reset"),$("#sendMail").text("Отправка"),$("#sendMail").css("background","#007bff"),$("#sendMail").prop("disabled",!1)}}))}),$('a[href^="#"], *[data-href^="#"]').on("click",function(e){e.preventDefault();var t=$(this).attr("data-href")?$(this).attr("data-href"):$(this).attr("href");$("#sendMail").css("animation","blink 0.7s ease-in-out 3"),$("html,body").stop().animate({scrollTop:$(t).offset().top-300},1e3)}),v=jQuery,e=document.createElement("input"),t="onpaste",e.setAttribute(t,""),n=("function"==typeof e[t]?"paste":"input")+".mask",a=navigator.userAgent,b=/iphone/i.test(a),y=/android/i.test(a),v.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},v.fn.extend({caret:function(e,t){var a;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((a=this.createTextRange()).collapse(!0),a.moveEnd("character",t),a.moveStart("character",e),a.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(a=document.selection.createRange(),e=0-a.duplicate().moveStart("character",-1e5),t=e+a.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,m){var a,p,u,k,f;return!t&&0<this.length?v(this[0]).data(v.mask.dataName)():(m=v.extend({placeholder:v.mask.placeholder,completed:null},m),a=v.mask.definitions,p=[],u=f=t.length,k=null,v.each(t.split(""),function(e,t){"?"==t?(f--,u=e):a[t]?(p.push(new RegExp(a[t])),null===k&&(k=p.length-1)):p.push(null)}),this.trigger("unmask").each(function(){var r=v(this),s=v.map(t.split(""),function(e,t){if("?"!=e)return a[e]?m.placeholder:e}),c=r.val();function o(e){for(;++e<f&&!p[e];);return e}function l(e,t){var a,i;if(!(e<0)){for(a=e,i=o(t);a<f;a++)if(p[a]){if(!(i<f&&p[a].test(s[i])))break;s[a]=s[i],s[i]=m.placeholder,i=o(i)}h(),r.caret(Math.max(k,e))}}function d(e,t){var a;for(a=e;a<t&&a<f;a++)p[a]&&(s[a]=m.placeholder)}function h(){r.val(s.join(""))}function g(e){var t,a,i=r.val(),n=-1;for(x=t=0;t<f;t++)if(p[t]){for(s[t]=m.placeholder;x++<i.length;)if(a=i.charAt(x-1),p[t].test(a)){s[t]=a,n=t;break}if(x>i.length)break}else s[t]===i.charAt(x)&&t!==u&&(x++,n=t);return e?h():n+1<u?(r.val(""),d(0,f)):(h(),r.val(r.val().substring(0,n+1))),u?t:k}r.data(v.mask.dataName,function(){return v.map(s,function(e,t){return p[t]&&e!=m.placeholder?e:null}).join("")}),r.attr("readonly")||r.one("unmask",function(){r.unbind(".mask").removeData(v.mask.dataName)}).bind("focus.mask",function(){var e;clearTimeout(i),c=r.val(),e=g(),i=setTimeout(function(){h(),e==t.length?r.caret(0,e):r.caret(e)},10)}).bind("blur.mask",function(){g(),r.val()!=c&&r.change()}).bind("keydown.mask",function(e){var t,a,i,n=e.which;8===n||46===n||b&&127===n?(a=(t=r.caret()).begin,(i=t.end)-a==0&&(a=46!==n?function(e){for(;0<=--e&&!p[e];);return e}(a):i=o(a-1),i=46===n?o(i):i),d(a,i),l(a,i-1),e.preventDefault()):27==n&&(r.val(c),r.caret(0,g()),e.preventDefault())}).bind("keypress.mask",function(e){var t,a,i,n=e.which,c=r.caret();e.ctrlKey||e.altKey||e.metaKey||n<32||n&&(c.end-c.begin!=0&&(d(c.begin,c.end),l(c.begin,c.end-1)),(t=o(c.begin-1))<f&&(a=String.fromCharCode(n),p[t].test(a)&&(function(e){var t,a,i,n;for(t=e,a=m.placeholder;t<f;t++)if(p[t]){if(i=o(t),n=s[t],s[t]=a,!(i<f&&p[i].test(n)))break;a=n}}(t),s[t]=a,h(),i=o(t),y?setTimeout(v.proxy(v.fn.caret,r,i),0):r.caret(i),m.completed&&f<=i&&m.completed.call(r))),e.preventDefault())}).bind(n,function(){setTimeout(function(){var e=g(!0);r.caret(e),m.completed&&e==r.val().length&&m.completed.call(r)},0)}),g()}))}}),$("#phone").mask("+7(999)999-99-99");function c(r){for(var e=function(i){var e=$("<tbody></tbody").append(function(){for(var e="",t=0;t<5;t++){var a=r.properties[t];e+="<tr><td class='text-dark text-left'>".concat(s[r.properties[t]],"</td><td class='text-dark text-right'>").concat(r[a][i],"</td><tr>")}return e}),t=$("<table class='table table-sm table-hover'></table>").append(e),a=$("<div class='card-body'></div").append(t).append("<div class='btn btn-secondary'><a href='".concat(r.link[i],"'>Узнать подробнее</a></div>")),n=$("<div class='border-warning text-center'></div>").append("<h3 class='text-dark'>".concat(r.title[i],"</h3>")).append("<div class='card-header bg-warning '>".concat(r.price[i]," руб. за смену</div>")).append("<img class='card-image' src=".concat(r.img[i]," 'alt='экскаватор'>")).append(a),c=$("<a id='tech' class='card border-warning ' href='".concat(r.link[i],"'></a>")).append(n);$(".technics__menu-item").append(c)},t=0;t<r.img.length;t+=1)e(t)}var s={weight:"Вес",boomLength:"Длина стрелы","carryingСapacity":"Грузоподъемность","bucketСapacity":"Объём ковша",liftingHeight:"Высота выгрузки",diggingDepth:"Глубина копания",speed:"Скорость",trackWidth:"Ширина гусениц",some1:"Что-то",some2:"Что-то2",some3:"Что-то3"},r={atkrnUgra:["Гусеничный кран югра 4671","/build/img/ugra.jpg","/technics/autokranUgra.html"],atkrnMaz:["Автокран МАЗ","/build/img/maz.jpg","/technics/autokranMAZ.html"],atkrTadano:["Автокран Tadano GR-550EX","/build/img/tadano.jpg","/technics/autokranTadano.html"],miniSunward:["Миниэкскаватор Sunward swe-017","/build/img/card-1.jpeg","/technics/autokran.html"],miniKubota:["Миниэкскаватор Kubota KX36-3","/build/img/card-1.jpeg","/technics/autokran.html"],miniJCB:["Миниэкскаватор JSB 8018","/build/img/card-1.jpeg","/technics/autokran.html"],smsvlKamaz6520:["Самосвал КАМАЗ 6520","/build/img/card-1.jpeg","/technics/samosval.html"],smsvlUral:["Самосвал Урал 6х6","/build/img/card-1.jpeg","/technics/samosval.html"],smsvlKamaz65802:["Самосвал КАМАЗ 65802-27","/build/img/card-1.jpeg","/technics/samosval.html"],egusHitachi330:["Экскаватор гусеничный HITACHI 330","/build/img/card-1.jpeg","/technics/ekskavator.html"],egusHitachi300:["Экскаватор гусеничный HITACHI 300","/build/img/card-1.jpeg","/technics/ekskavator.html"],egusGCB160:["Экскаватор гусеничный GCB 160","/build/img/card-1.jpeg","/technics/ekskavator.html"],ekolDoosan:["Экскаватор колёсный DOOSAN SOLAR 180","/build/img/card-1.jpeg","/technics/ekskavator.html"],ekolHitachi210:["Экскаватор колёсный HITACHI 210W","/build/img/card-1.jpeg","/technics/ekskavator.html"],ekolHitachi160:["Экскаватор колёсный HITACHI 160","/build/img/card-1.jpeg","/technics/ekskavator.html"],epogJCB1cx:["Экскаватор погрузчик JCB 1cx","/build/img/card-1.jpeg","/technics/ekskavator.html"],epogCase695:["Экскаватор погрузчик CASE695","/build/img/card-1.jpeg","/technics/ekskavator.html"],epogMTZ92:["Экскаватор погрузчик МТЗ 92","/build/img/card-1.jpeg","/technics/ekskavator.html"]},o={autokran:{img:[r.atkrnUgra[1],r.atkrnMaz[1],r.atkrTadano[1]],title:[r.atkrnUgra[0],r.atkrnMaz[0],r.atkrTadano[0]],description:["amet consectetur adipisicing elit.","amet consectetur adipisicing elit.","amet consectetur adipisicing elit."],price:[12e3,13e3,25e3],properties:["weight","boomLength","carryingСapacity","some1","some2","some3"],weight:["32500 кг","32500 кг","32500 кг"],boomLength:["7.6-16.5 м","7.6-16.5 м","7.6-16.5 м"],"carryingСapacity":["20 т","20 т","20 т"],some1:["4","5","6"],some2:["4","5","6"],some3:["4","5","6"],link:[r.atkrnUgra[2],r.atkrnMaz[2],r.atkrTadano[2]]},mini:{img:[r.miniSunward[1],r.miniKubota[1],r.miniJCB[1]],title:[r.miniSunward[0],r.miniKubota[0],r.miniJCB[0]],description:["amet consectetur adipisicing elit."],price:[12e3,13e3,11e3],properties:["weight","bucketСapacity","liftingHeight","diggingDepth","some1","some2","some3"],weight:["32500 кг","32500 кг","32500 кг"],"bucketСapacity":["0.04 м.куб","0.04 м.куб","0.04 м.куб"],liftingHeight:["2155 см","2155 см","2155 см"],diggingDepth:["2155 см","2155 см","2155 см"],some1:["4","5","6"],some2:["4","5","6"],some3:["4","5","6"],link:[r.miniSunward[2],r.miniKubota[2],r.miniJCB[2]]},samosval:{img:[r.smsvlKamaz6520[1],r.smsvlUral[1],r.smsvlKamaz65802[1]],title:[r.smsvlKamaz6520[0],r.smsvlUral[0],r.smsvlKamaz65802[0]],description:["amet consectetur adipisicing elit."],properties:["weight","speed","carryingСapacity","some1","some2","some3"],weight:["32500 кг","32500 кг","32500 кг"],"carryingСapacity":["20 т","20 т","20 т"],speed:["75 км/ч","75 км/ч","75 км/ч"],price:[12e3,13e3,11e3],some1:["4","5","6"],some2:["4","5","6"],some3:["4","5","6"],link:[r.smsvlKamaz6520[2],r.smsvlUral[2],r.smsvlKamaz65802[2]]},ekskGusenich:{img:[r.egusHitachi330[1],r.egusHitachi300[1],r.egusGCB160[1]],title:[r.egusHitachi330[0],r.egusHitachi300[0],r.egusGCB160[0]],description:["amet consectetur adipisicing elit.","amet consectetur adipisicing elit.","amet consectetur adipisicing elit."],properties:["weight","bucketСapacity","trackWidth","liftingHeight","diggingDepth","some1","some2","some3"],weight:["32500 кг","32500 кг","32500 кг"],"bucketСapacity":["0.05 м.куб","0.04 м.куб","0.05 м.куб"],trackWidth:["800 мм","800 мм","800 мм"],liftingHeight:["2155 см","2155 см","2155 см"],diggingDepth:["2155 см","2155 см","2155 см"],price:[12e3,13e3,11e3],some1:["4","5","6"],some2:["4","5","6"],some3:["4","5","6"],link:[r.egusHitachi330[2],r.egusHitachi300[2],r.egusGCB160[2]]},ekskKoles:{img:[r.ekolDoosan[1],r.ekolHitachi210[1],r.ekolHitachi160[1]],title:[r.ekolDoosan[0],r.ekolHitachi210[0],r.ekolHitachi160[0]],description:["amet consectetur adipisicing elit."],price:[12e3,13e3,11e3],properties:["weight","bucketСapacity","liftingHeight","diggingDepth","some1","some2","some3"],weight:["32500 кг","32500 кг","32500 кг"],"bucketСapacity":["0.04 м.куб","0.04 м.куб","0.04 м.куб"],liftingHeight:["2155 см","2155 см","2155 см"],diggingDepth:["2155 см","2155 см","2155 см"],some1:["4","5","6"],some2:["4","5","6"],some3:["4","5","6"],link:[r.ekolDoosan[2],r.ekolHitachi210[2],r.ekolHitachi160[2]]},ekskPogr:{img:[r.epogJCB1cx[1],r.epogCase695[1],r.epogMTZ92[1]],title:[r.epogJCB1cx[0],r.epogCase695[0],r.epogMTZ92[0]],description:["amet consectetur adipisicing elit."],price:[12e3,13e3,11e3],properties:["carryingСapacity","liftingHeight","diggingDepth","some1","some2","some3"],"carryingСapacity":["20 т","20 т","20 т"],liftingHeight:["2155 см","2155 см","2155 см"],diggingDepth:["2155 см","2155 см","2155 см"],some1:["4","5","6"],some2:["4","5","6"],some3:["4","5","6"],link:[r.epogJCB1cx[2],r.epogCase695[2],r.epogMTZ92[2]]}},l=localStorage.getItem("selected");if(0===$("#allTechnics").length){var d=null===l||"allTechnics"===l?o.autokran:o[l];$("#".concat(null===l||"allTechnics"===l?"autokran":l)).addClass("techs-active"),c(d)}else if(0!==$("#allTechnics").length)if(null===l||"allTechnics"===l)for(var h in o){var g=o[h];$("#allTechnics").addClass("techs-active"),c(g)}else $("#".concat(l)).addClass("techs-active"),c(o[l]);if($(".techs").click(function(){var e=$(this),t=e.attr("id");localStorage.setItem("selected",t),$(".techs.techs-active").removeClass("techs-active"),$(e).addClass("techs-active"),$("a.card").remove();var a=o[t];if("allTechnics"===t)for(var i in o){c(o[i])}else c(a)}),$(".tech")){var m=$(".tech").attr("id"),p=m.slice(0,4),u=Object.keys(r).filter(function(e){return e.startsWith(p)});$(".tech").append("<img src=".concat(r[m][1],">"));var k=$("<ul class='technic__selector'></ul>").append(function(){return u.map(function(e){return m===e?"<li class='btn btn-primary technic_active'><a class='nav-link text-white' href=".concat(r[e][2],">").concat(r[e][0],"</a></li>"):"<li class='btn btn-primary '><a class='nav-link text-white' href=".concat(r[e][2],">").concat(r[e][0],"</a></li>")})});$(".nav-menu").append(k);var f=$(".card-body"),H=f.attr("id"),w=o[H].title.findIndex(function(e){return e===r[m][0]}),C="",T=$("<tbody class='tbody'></tbody>").append(function(){for(var e=0;e<o[H].properties.length;e++){var t=o[H].properties[e];C+="<tr><td class='text-dark text-left'>".concat(s[o[H].properties[e]],"</td><th class='text-dark text-right'>").concat(o[H][t][w],"</th></tr>")}return C+="<tr class='bg-secondary'><th class='text-left text-white'>Стоимость</th><th class='text-white text-right'>".concat(o[H].price[w],"р. за смену (8 часов)</th></tr>")}),j=$("<table class='table table-hover'></table").append(T);f=$(".card-body").append(j)}