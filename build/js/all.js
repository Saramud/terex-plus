"use strict";var v,a,e,t,n,i,b,y;$("#sendMail").on("click",function(){var e=$("#name").val(),t=$("#technics").val(),i=$("#rent").val(),a=$("#phone").val().replace(/[(),_,-]/g,"");return 0==a.length?($("#error").text("Поле обязательно для заполнения!"),$("#phone").css("border","2px solid red"),!1):12!==a.length?($("#error").text("Некорректно введен номер телефона"),$("#phone").css("border","2px solid red"),!1):($("#error").text(""),void $.ajax({url:"telegram.php",type:"POST",cache:!1,data:{name:e,technics:t,rent:i,phone:a},dataType:"html",beforeSend:function(){$("#sendMail").text("Заявка отправлена"),$("#sendMail").css({background:"#28a745","border-color":"#28a745",color:"white"}),$("#sendMail").prop("disabled",!0)},success:function(){$("#requestform").trigger("reset"),$("#sendMail").text("Отправка"),$("#sendMail").css("background","#007bff"),$("#sendMail").prop("disabled",!1)}}))}),$('a[href^="#"], *[data-href^="#"]').on("click",function(e){e.preventDefault();var t=$(this).attr("data-href")?$(this).attr("data-href"):$(this).attr("href");$("#sendMail").css("animation","blink 0.7s ease-in-out 3"),$("html,body").stop().animate({scrollTop:$(t).offset().top-300},1e3)}),v=jQuery,e=document.createElement("input"),t="onpaste",e.setAttribute(t,""),n=("function"==typeof e[t]?"paste":"input")+".mask",i=navigator.userAgent,b=/iphone/i.test(i),y=/android/i.test(i),v.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},v.fn.extend({caret:function(e,t){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&((i=this.createTextRange()).collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),e=0-i.duplicate().moveStart("character",-1e5),t=e+i.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,p){var i,u,m,f,k;return!t&&0<this.length?v(this[0]).data(v.mask.dataName)():(p=v.extend({placeholder:v.mask.placeholder,completed:null},p),i=v.mask.definitions,u=[],m=k=t.length,f=null,v.each(t.split(""),function(e,t){"?"==t?(k--,m=e):i[t]?(u.push(new RegExp(i[t])),null===f&&(f=u.length-1)):u.push(null)}),this.trigger("unmask").each(function(){var r=v(this),s=v.map(t.split(""),function(e,t){if("?"!=e)return i[e]?p.placeholder:e}),c=r.val();function l(e){for(;++e<k&&!u[e];);return e}function o(e,t){var i,a;if(!(e<0)){for(i=e,a=l(t);i<k;i++)if(u[i]){if(!(a<k&&u[i].test(s[a])))break;s[i]=s[a],s[a]=p.placeholder,a=l(a)}h(),r.caret(Math.max(f,e))}}function d(e,t){var i;for(i=e;i<t&&i<k;i++)u[i]&&(s[i]=p.placeholder)}function h(){r.val(s.join(""))}function g(e){var t,i,a=r.val(),n=-1;for(pos=t=0;t<k;t++)if(u[t]){for(s[t]=p.placeholder;pos++<a.length;)if(i=a.charAt(pos-1),u[t].test(i)){s[t]=i,n=t;break}if(pos>a.length)break}else s[t]===a.charAt(pos)&&t!==m&&(pos++,n=t);return e?h():n+1<m?(r.val(""),d(0,k)):(h(),r.val(r.val().substring(0,n+1))),m?t:f}r.data(v.mask.dataName,function(){return v.map(s,function(e,t){return u[t]&&e!=p.placeholder?e:null}).join("")}),r.attr("readonly")||r.one("unmask",function(){r.unbind(".mask").removeData(v.mask.dataName)}).bind("focus.mask",function(){var e;clearTimeout(a),c=r.val(),e=g(),a=setTimeout(function(){h(),e==t.length?r.caret(0,e):r.caret(e)},10)}).bind("blur.mask",function(){g(),r.val()!=c&&r.change()}).bind("keydown.mask",function(e){var t,i,a,n=e.which;8===n||46===n||b&&127===n?(i=(t=r.caret()).begin,(a=t.end)-i==0&&(i=46!==n?function(e){for(;0<=--e&&!u[e];);return e}(i):a=l(i-1),a=46===n?l(a):a),d(i,a),o(i,a-1),e.preventDefault()):27==n&&(r.val(c),r.caret(0,g()),e.preventDefault())}).bind("keypress.mask",function(e){var t,i,a,n=e.which,c=r.caret();e.ctrlKey||e.altKey||e.metaKey||n<32||n&&(c.end-c.begin!=0&&(d(c.begin,c.end),o(c.begin,c.end-1)),(t=l(c.begin-1))<k&&(i=String.fromCharCode(n),u[t].test(i)&&(function(e){var t,i,a,n;for(t=e,i=p.placeholder;t<k;t++)if(u[t]){if(a=l(t),n=s[t],s[t]=i,!(a<k&&u[a].test(n)))break;i=n}}(t),s[t]=i,h(),a=l(t),y?setTimeout(v.proxy(v.fn.caret,r,a),0):r.caret(a),p.completed&&k<=a&&p.completed.call(r))),e.preventDefault())}).bind(n,function(){setTimeout(function(){var e=g(!0);r.caret(e),p.completed&&e==r.val().length&&p.completed.call(r)},0)}),g()}))}});function c(e){for(var t=0;t<e.img.length;t+=1){var i=$("<div class='card-body'></div").append("<div class='btn btn-secondary'><a href='".concat(e.link[t],"'>Узнать подробнее</a></div>")),a=$("<div class='card border-warning text-center'></div>").append("<h3 class='text-dark'>".concat(e.title[t],"</h3>")).append("<div class='card-header bg-warning '>".concat(e.price[t]," руб. за смену</div>")).append("<img class='card-img-top card__img' src=".concat(e.img[t]," 'alt='экскаватор'>")).append(i),n=$("<a href='".concat(e.link[t],"'></a>")).append(a);$(".technics__menu-item").append(n)}}var r={autokran:{img:["/build/img/card-1.jpeg","/build/img/card-1.jpeg","/build/img/card-1.jpeg"],title:["Автокран","Автокран башенный","Автокран башенный"],description:["amet consectetur adipisicing elit.","amet consectetur adipisicing elit.","amet consectetur adipisicing elit."],price:[12e3,13e3,11e3],properties:["weight","boomLength","carryingСapacity"],weight:["32500 кг","32500 кг","32500 кг"],boomLength:["7.6-16.5 м","7.6-16.5 м","7.6-16.5 м"],"carryingСapacity":["20 т","20 т","20 т"],link:["./technics/autokran.html","./technics/autokran.html","./technics/autokran.html"]},mini:{img:["/build/img/card-1.jpeg"],title:["Миниэкскаватор"],description:["amet consectetur adipisicing elit."],price:[12e3,13e3,11e3],properties:["weight","bucketСapacity","liftingHeight","diggingDepth"],weight:["32500 кг","32500 кг","32500 кг"],"bucketСapacity":["0.04 м.куб","0.04 м.куб","0.04 м.куб"],liftingHeight:["2155 см","2155 см","2155 см"],diggingDepth:["2155 см","2155 см","2155 см"],link:["./technics/autokran.html","./technics/autokran.html","./technics/autokran.html"]},samosval:{img:["/build/img/card-1.jpeg"],title:["Самосвал"],description:["amet consectetur adipisicing elit."],properties:["weight","speed","carryingСapacity"],weight:["32500 кг","32500 кг","32500 кг"],"carryingСapacity":["20 т","20 т","20 т"],speed:["75 км/ч","75 км/ч","75 км/ч"],price:[12e3,13e3,11e3],link:["./technics/samosval.html","./technics/samosval.html","./technics/samosval.html"]},ekskGusenich:{img:["/build/img/card-1.jpeg","/build/img/card-1.jpeg","/build/img/card-1.jpeg"],title:["Экскаватор гусеничный","Экскаватор гусеничный","Экскаватор гусеничный"],description:["amet consectetur adipisicing elit.","amet consectetur adipisicing elit.","amet consectetur adipisicing elit."],properties:["weight","bucketСapacity","trackWidth","liftingHeight","diggingDepth"],weight:["32500 кг","32500 кг","32500 кг"],"bucketСapacity":["0.04 м.куб","0.04 м.куб","0.04 м.куб"],trackWidth:["800 мм","800 мм","800 мм"],liftingHeight:["2155 см","2155 см","2155 см"],diggingDepth:["2155 см","2155 см","2155 см"],price:[12e3,13e3,11e3],link:["./technics/ekskavator.html","./technics/ekskavator.html","./technics/ekskavator.html"]},ekskKoles:{img:["/build/img/card-1.jpeg"],title:["Экскаватор колёсный"],description:["amet consectetur adipisicing elit."],price:[12e3,13e3,11e3],properties:["weight","bucketСapacity","liftingHeight","diggingDepth"],weight:["32500 кг","32500 кг","32500 кг"],"bucketСapacity":["0.04 м.куб","0.04 м.куб","0.04 м.куб"],liftingHeight:["2155 см","2155 см","2155 см"],diggingDepth:["2155 см","2155 см","2155 см"],link:["./technics/ekskavator.html","./technics/ekskavator.html","./technics/ekskavator.html"]},ekskPogr:{img:["/build/img/card-1.jpeg"],title:["Экскаватор погрузчик"],description:["amet consectetur adipisicing elit."],price:[12e3,13e3,11e3],properties:["carryingСapacity","liftingHeight","diggingDepth"],"carryingСapacity":["20 т","20 т","20 т"],liftingHeight:["2155 см","2155 см","2155 см"],diggingDepth:["2155 см","2155 см","2155 см"],link:["./technics/ekskavator.html","./technics/ekskavator.html","./technics/ekskavator.html"]}},s=localStorage.getItem("selected");if(0===$("#allTechnics").length){var l=null===s||"allTechnics"===s?r.autokran:r[s];$("#".concat(null===s||"allTechnics"===s?"autokran":s)).addClass("techs-active"),c(l)}else if(0!==$("#allTechnics").length)if(null===s)for(var o in r){var d=r[o];$("#allTechnics").addClass("techs-active"),c(d)}else $("#".concat(s)).addClass("techs-active"),c(r[s]);$(".techs").click(function(){var e=$(this),t=e.attr("id");localStorage.setItem("selected",t),$(".techs.techs-active").removeClass("techs-active"),$(e).addClass("techs-active"),$("div.card").remove();var i=r[t];if("allTechnics"===t)for(var a in r){c(r[a])}else c(i)});